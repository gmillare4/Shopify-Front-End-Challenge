(this["webpackJsonpshopify-challenge-frontend"]=this["webpackJsonpshopify-challenge-frontend"]||[]).push([[0],{23:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var n=a(1),s=a(2),r=a(12),i=a.n(r),c=a(15),o=a(13),h=a(14),l=a(8),u=a(17),d=a(16),j=(a(23),a(28)),m=a(29),b=a(30),O=function(e){return Object(n.jsx)(j.a,{className:"card shadow p-3 mb-5 bg-white rounded",children:Object(n.jsxs)(m.a,{children:[Object(n.jsx)("h5",{children:"Nominations"}),Object(n.jsx)("ul",{children:e.nominations.map((function(t,a){return Object(n.jsxs)("li",{children:[t.Title," (",t.Year,")"," ",Object(n.jsx)(b.a,{outline:!0,color:"danger",size:"sm",value:t.imdbID,onClick:e.remove,children:"Remove"})]},a)}))})]})})},p=a(31),v=a(32),x=a(33),f=a(34),g=function(e){var t,a;return e.apiError?(a=Object(n.jsx)(p.a,{type:"text",value:e.searchParam,onChange:e.handleChange,placeholder:"Search",invalid:!0}),t=Object(n.jsx)(v.a,{children:e.apiError})):a=Object(n.jsx)(p.a,{type:"text",value:e.searchParam,onChange:e.handleChange,placeholder:"Search"}),Object(n.jsx)(j.a,{className:"card shadow p-3 mb-5 bg-white rounded",children:Object(n.jsxs)(m.a,{children:[Object(n.jsx)("h5",{children:"Movie Title"}),Object(n.jsx)(x.a,{onSubmit:e.search,children:Object(n.jsxs)(f.a,{children:[a,t]})})]})})},S=a(35),w=function(e){var t;return e.loading&&(t=Object(n.jsx)(S.a,{color:"primary"})),Object(n.jsx)(j.a,{className:"card shadow p-3 mb-5 bg-white rounded",children:Object(n.jsxs)(m.a,{children:[Object(n.jsxs)("h5",{children:['Results for "',e.resultsFor,'"']}),t,Object(n.jsx)("ul",{children:e.searchResults.map((function(t,a){return Object(n.jsxs)("li",{children:[t.Title," (",t.Year,")"," ",Object(n.jsx)(b.a,{outline:!0,color:"success",size:"sm",value:t.imdbID,onClick:e.nominate,children:"Nominate"})]},a)}))})]})})},y=a(36),C=function(e){Object(u.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(o.a)(this,a),(e=t.call(this)).handleChange=function(t){e.setState({searchParam:t.target.value})},e.state={searchParam:"",searchResults:[],nominations:[],banner:!1,resultsFor:"",apiError:!1,loading:!1},e.handleChange=e.handleChange.bind(Object(l.a)(e)),e.search=e.search.bind(Object(l.a)(e)),e.nominate=e.nominate.bind(Object(l.a)(e)),e.remove=e.remove.bind(Object(l.a)(e)),e}return Object(h.a)(a,[{key:"search",value:function(e){var t=this;e.preventDefault(),this.setState({loading:!0}),fetch("https://www.omdbapi.com/?s=".concat(this.state.searchParam,"&apikey=807abc94")).then((function(e){if(e.ok)return e.json();throw new Error("Something went wrong")})).then((function(e){"True"===e.Response?(t.setState({apiError:!1}),t.setState({searchResults:e.Search})):(t.setState({apiError:e.Error}),t.setState({searchResults:[]}))})).catch((function(e){return console.log("error",e)})),this.setState({loading:!1}),this.setState({resultsFor:this.state.searchParam})}},{key:"nominate",value:function(e){for(var t=!0,a=0;a<this.state.nominations.length;a++)this.state.nominations[a].imdbID===e.target.value&&(t=!1);if(5===this.state.nominations.length&&(t=!1),t)for(var n=0;n<this.state.searchResults.length;n++)this.state.searchResults[n].imdbID===e.target.value&&this.setState({nominations:[].concat(Object(c.a)(this.state.nominations),[this.state.searchResults[n]])})}},{key:"remove",value:function(e){var t=this.state.nominations.filter((function(t){return t.imdbID!==e.target.value}));this.setState({nominations:t})}},{key:"componentDidUpdate",value:function(e,t){this.state.nominations!==t.nominations&&(5===this.state.nominations.length?this.setState({banner:!0}):this.setState({banner:!1}))}},{key:"render",value:function(){var e;return e=this.state.banner?Object(n.jsx)("h4",{className:"banner center",children:"You've successfully nominated 5 movies!"}):Object(n.jsx)("h4",{className:"noBanner text center",children:"No Banner"}),Object(n.jsxs)("div",{className:"App",children:[e,Object(n.jsx)("h1",{className:"center",children:"The Shoppies"}),Object(n.jsx)(g,{search:this.search,searchParam:this.state.searchParam,handleChange:this.handleChange,apiError:this.state.apiError}),Object(n.jsxs)(y.a,{children:[Object(n.jsx)(w,{searchResults:this.state.searchResults,nominate:this.nominate,resultsFor:this.state.resultsFor}),Object(n.jsx)(O,{nominations:this.state.nominations,remove:this.remove})]})]})}}]),a}(s.Component);a(26);i.a.render(Object(n.jsx)(C,{}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.3aa7becd.chunk.js.map