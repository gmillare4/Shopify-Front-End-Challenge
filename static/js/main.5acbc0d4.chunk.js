(this["webpackJsonpshopify-challenge-frontend"]=this["webpackJsonpshopify-challenge-frontend"]||[]).push([[0],{23:function(e,t,s){},27:function(e,t,s){"use strict";s.r(t);var a=s(1),n=s(3),r=s(12),i=s.n(r),o=s(15),c=s(13),l=s(14),h=s(8),u=s(17),j=s(16),d=(s(23),s(28)),b=s(29),m=s(30),O=function(e){return Object(a.jsx)(d.a,{className:"card shadow p-3 mb-5 bg-white rounded",children:Object(a.jsxs)(b.a,{children:[Object(a.jsx)("h5",{children:"Nominations"}),Object(a.jsx)("ul",{children:e.nominations.map((function(t,s){return Object(a.jsxs)("li",{children:[t.Title," (",t.Year,")"," ",Object(a.jsx)(m.a,{outline:!0,color:"danger",size:"sm",value:t.imdbID,onClick:e.remove,children:"Remove"})]},s)}))})]})})},g=s(31),p=s(32),x=s(33),v=s(34),f=function(e){var t,s;return e.apiError?(s=Object(a.jsx)(g.a,{type:"text",value:e.searchParam,onChange:e.handleChange,placeholder:"Search",invalid:!0}),t=Object(a.jsx)(p.a,{children:e.apiError})):s=Object(a.jsx)(g.a,{type:"text",value:e.searchParam,onChange:e.handleChange,placeholder:"Search"}),Object(a.jsx)(d.a,{className:"card shadow p-3 mb-5 bg-white rounded",children:Object(a.jsxs)(b.a,{children:[Object(a.jsx)("h5",{children:"Movie Title"}),Object(a.jsx)(x.a,{onSubmit:e.search,children:Object(a.jsxs)(v.a,{children:[s,t]})})]})})},R=s(35),S=s(36),w=s(37),y=s(38),N=function(e){var t;e.loading&&(t=Object(a.jsxs)("div",{children:[Object(a.jsx)(R.a,{color:"primary"}),"  ",Object(a.jsx)(R.a,{color:"success"}),"  ",Object(a.jsx)(R.a,{color:"danger"})]}));for(var s=[],n=Math.ceil(e.totalResults/10),r=1;r<n+1;r++)s.push(r);return console.log("new props.totalResults",e.totalResults),console.log("paginationNum",n),Object(a.jsx)(d.a,{className:"card shadow p-3 mb-5 bg-white rounded",children:Object(a.jsxs)(b.a,{children:[Object(a.jsxs)("h5",{children:['Results for "',e.resultsFor,'"']}),t,Object(a.jsxs)("ul",{children:[e.searchResults.map((function(t,s){return Object(a.jsxs)("li",{children:[t.Title," (",t.Year,")"," ",Object(a.jsx)(m.a,{outline:!0,color:"success",size:"sm",value:t.imdbID,onClick:e.nominate,children:"Nominate"})]},s)})),Object(a.jsxs)(S.a,{children:[Object(a.jsx)(w.a,{children:Object(a.jsx)(y.a,{href:"#",children:"1"})}),console.log("paginationArr",s),s.map((function(e){return Object(a.jsx)(w.a,{children:Object(a.jsx)(y.a,{href:"#",children:e})})}))]})]})]})})},C=s(39),k=function(e){Object(u.a)(s,e);var t=Object(j.a)(s);function s(){var e;return Object(c.a)(this,s),(e=t.call(this)).handleChange=function(t){e.setState({searchParam:t.target.value})},e.state={searchParam:"",searchResults:[],nominations:[],banner:!1,resultsFor:"",apiError:!1,loading:!1,totalResults:0},e.handleChange=e.handleChange.bind(Object(h.a)(e)),e.search=e.search.bind(Object(h.a)(e)),e.nominate=e.nominate.bind(Object(h.a)(e)),e.remove=e.remove.bind(Object(h.a)(e)),e}return Object(l.a)(s,[{key:"search",value:function(e){var t=this;e.preventDefault(),this.setState({loading:!0}),fetch("https://www.omdbapi.com/?s=".concat(this.state.searchParam,"&page=1&apikey=807abc94")).then((function(e){if(e.ok)return e.json();throw new Error("Something went wrong")})).then((function(e){"True"===e.Response?(t.setState({apiError:!1}),t.setState({loading:!1}),t.setState({totalResults:Number(e.totalResults)}),t.setState({searchResults:e.Search}),console.log("res",e),console.log("res.totalResults",Number(e.totalResults))):(t.setState({apiError:e.Error}),t.setState({loading:!1}),t.setState({totalResults:0}),t.setState({searchResults:[]}))})).catch((function(e){return console.log("error",e)})),this.setState({resultsFor:this.state.searchParam})}},{key:"nominate",value:function(e){for(var t=!0,s=0;s<this.state.nominations.length;s++)this.state.nominations[s].imdbID===e.target.value&&(t=!1);if(5===this.state.nominations.length&&(t=!1),t)for(var a=0;a<this.state.searchResults.length;a++)this.state.searchResults[a].imdbID===e.target.value&&this.setState({nominations:[].concat(Object(o.a)(this.state.nominations),[this.state.searchResults[a]])})}},{key:"remove",value:function(e){var t=this.state.nominations.filter((function(t){return t.imdbID!==e.target.value}));this.setState({nominations:t})}},{key:"componentDidUpdate",value:function(e,t){this.state.nominations!==t.nominations&&(5===this.state.nominations.length?this.setState({banner:!0}):this.setState({banner:!1}))}},{key:"render",value:function(){var e;return e=this.state.banner?Object(a.jsx)("h4",{className:"banner center",children:"You've successfully nominated 5 movies!"}):Object(a.jsx)("h4",{className:"noBanner text center",children:"No Banner"}),Object(a.jsxs)("div",{className:"App",children:[e,Object(a.jsx)("h1",{className:"center",children:"The Shoppies"}),Object(a.jsx)(f,{search:this.search,searchParam:this.state.searchParam,handleChange:this.handleChange,apiError:this.state.apiError}),Object(a.jsxs)(C.a,{children:[Object(a.jsx)(N,{searchResults:this.state.searchResults,nominate:this.nominate,resultsFor:this.state.resultsFor,loading:this.state.loading,totalResults:this.totalResults}),Object(a.jsx)(O,{nominations:this.state.nominations,remove:this.remove})]})]})}}]),s}(n.Component);s(26);i.a.render(Object(a.jsx)(k,{}),document.getElementById("root"))}},[[27,1,2]]]);
//# sourceMappingURL=main.5acbc0d4.chunk.js.map